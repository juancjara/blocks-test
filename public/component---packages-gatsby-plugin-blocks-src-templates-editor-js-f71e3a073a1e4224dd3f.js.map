{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.map.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./packages/gatsby-plugin-blocks/src/templates/editor.js","webpack:///./packages/gatsby-plugin-blocks/src/use-debounce.js","webpack:///./node_modules/core-js/modules/es6.array.some.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///(webpack)/buildin/global.js"],"names":["strong","validate","module","exports","get","this","arguments","length","undefined","key","entry","getEntry","v","set","value","def","add","Layout","props","className","children","relativePath","useState","code","setCode","debouncedCode","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","fetch","method","headers","body","JSON","stringify","page","res","text","srcCode","initializeCode","src","blocks","Blocks","layout","onChange","newCode","$export","$some","P","F","some","callbackfn","dP","f","create","redefineAll","ctx","anInstance","forOf","$iterDefine","step","setSpecies","DESCRIPTORS","fastKey","SIZE","that","index","_i","_f","n","k","getConstructor","wrapper","NAME","IS_MAP","ADDER","C","iterable","_t","_l","prototype","clear","data","r","p","i","next","prev","forEach","has","setStrong","iterated","kind","_k","g","Function","e","window"],"mappings":"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","file":"component---packages-gatsby-plugin-blocks-src-templates-editor-js-f71e3a073a1e4224dd3f.js","sourcesContent":["'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","import React, { useEffect, useState } from 'react'\nimport Editor from 'blocks-ui'\nimport * as Blocks from '@blocks/react'\n\nimport useDebounce from '../use-debounce'\n\nconst PAGE = 'foo.js'\n\nconst Layout = props => {\n  return <div className=\"layout\">{props.children}</div>\n}\n\nexport default ({ relativePath = PAGE }) => {\n  const [code, setCode] = useState(null)\n  const debouncedCode = useDebounce(code)\n\n  useEffect(() => {\n    const initializeCode = async () => {\n      const res = await fetch('/___blocks/src', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          page: relativePath\n        })\n      })\n      const srcCode = await res.text()\n      setCode(srcCode)\n    }\n\n    initializeCode()\n  }, [])\n\n  useEffect(() => {\n    if (!debouncedCode) {\n      return\n    }\n\n    fetch('/___blocks', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        code: debouncedCode,\n        page: relativePath\n      })\n    })\n  }, [debouncedCode])\n\n  if (!code) {\n    return null\n  }\n\n  return (\n    <Editor\n      src={code}\n      blocks={Blocks}\n      layout={Layout}\n      onChange={newCode => {\n        setCode(newCode)\n      }}\n    />\n  )\n}\n","import { useState, useEffect } from 'react'\n\nexport default (value, delay = 500) => {\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    return () => clearTimeout(handler)\n  }, [value, delay])\n\n  return debouncedValue\n}\n","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","var g; // This works in non-strict mode\n\ng = function () {\n  return this;\n}();\n\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n} // g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\n\nmodule.exports = g;"],"sourceRoot":""}
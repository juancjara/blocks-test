(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"55AF":function(e){e.exports=JSON.parse('{"name":"blocks-ui","main":"dist/blocks-ui.cjs.js","module":"dist/blocks-ui.esm.js","version":"0.0.79","license":"MIT","repository":"blocks/blocks","dependencies":{"@babel/helper-plugin-utils":"^7.10.3","@babel/plugin-syntax-jsx":"^7.10.1","@babel/plugin-transform-react-jsx":"^7.10.3","@babel/standalone":"^7.10.3","@babel/template":"^7.10.3","@babel/traverse":"^7.10.3","@babel/types":"^7.10.3","@blocks/react":"^0.0.64","@blocks/react-beautiful-dnd":"^12.2.1","@emotion/cache":"^10.0.29","@emotion/core":"10.0.28","@mdx-js/react":"1.6.6","@monaco-editor/react":"^3.3.2","@reach/tabs":"^0.10.5","@theme-ui/components":"0.3.1","@theme-ui/presets":"0.3.0","@theme-ui/style-guide":"^0.3.0","chroma-js":"^2.1.0","interpolate-range":"^2.1.0","lodash.merge":"^4.6.2","prettier":"2.0.5","property-controls":"^0.0.60","react-color":"^2.18.1","react-feather":"^2.0.8","react-loadable":"^5.5.0","react-merge-refs":"^1.0.0","reakit":"^1.1.1","theme-ui":"0.3.1","tinycolor2":"^1.4.1"},"devDependencies":{"@babel/cli":"7.10.3","@babel/core":"7.10.3","@babel/preset-env":"7.10.3","@babel/preset-react":"7.10.1","jest":"26.1.0","react":"16.13.1","react-dom":"16.13.1"},"peerDependencies":{"react":"^16.13.1","react-dom":"^16.13.1"}}')},Bl7J:function(e,t,n){"use strict";var o=n("2A+t"),r=n("MXbp"),a=n("qKvR"),l=n("izhR"),c=n("Wbzz"),i=(n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("V+eJ"),n("ioFf"),n("91GP"),n("q1tI")),s=n.n(i);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=Object(i.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,r=e.size,a=void 0===r?24:r,l=b(e,["color","size"]);return s.a.createElement("svg",p({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),s.a.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}));u.displayName="GitHub";var d=u;function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var j=Object(i.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,r=e.size,a=void 0===r?24:r,l=y(e,["color","size"]);return s.a.createElement("svg",m({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),s.a.createElement("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"}))}));j.displayName="Twitter";var h=j;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var g=Object(i.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,r=e.size,a=void 0===r?24:r,l=f(e,["color","size"]);return s.a.createElement("svg",O({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),s.a.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),s.a.createElement("polyline",{points:"22,6 12,13 2,6"}))}));g.displayName="Mail";var v=g,x=n("55AF"),k=n("i4fA"),C=n("zPM8"),w=n("vrFN"),S=x.version;t.a=function(e){var t=e.children,n=e._frontmatter,i=(n=void 0===n?{}:n).title,s=n.noNav,p=n.showNewsletter;return Object(o.c)(r.b.root,null,Object(o.c)(w.a,{title:i}),Object(o.c)(a.b,{styles:{"*":{boxSizing:"border-box"},body:{margin:0},img:{maxWidth:"100%"}}}),Object(o.c)(l.Box,{sx:{display:"grid",minHeight:"100vh",gridTemplateAreas:['"header" "nav" "main" "toc" "footer"','"header header header" "nav main toc" "footer footer footer"'],gridTemplateColumns:["1fr","240px 1fr 240px"],gridTemplateRows:["min-content min-content 1fr min-content min-content","min-content 1fr min-content"]}},Object(o.c)(l.Box,{as:"header",sx:{gridArea:"header",borderBottom:"1px solid",borderColor:"border",py:2,px:3,display:"flex",aligntItems:"center",justifyContent:"space-between"}},Object(o.c)(c.Link,{to:"/",sx:{textDecoration:"none",color:"inherit",display:"flex",alignItems:"center"}},Object(o.c)("img",{src:"https://user-images.githubusercontent.com/1424573/61592179-e0fda080-ab8c-11e9-9109-166cc7c86b43.png",alt:"blocks logo",width:"32",sx:{verticalAlign:"middle",ml:"-4px",mr:2}}),"Blocks",Object(o.c)("span",{sx:{fontSize:0,mt:"2px",ml:2}},"v",S)),Object(o.c)("div",{sx:{display:"flex",alignItems:"center",verticalAlign:"middle"}},Object(o.c)("a",{href:"https://github.com/blocks/blocks","aria-label":"Github",target:"_blank",rel:"noopener noreferrer",sx:{mt:"5px",color:"inherit"}},Object(o.c)(d,{size:18})),Object(o.c)("a",{href:"https://twitter.com/blocks_ui","aria-label":"Twitter",target:"_blank",rel:"noopener noreferrer",sx:{mt:"5px",color:"inherit",ml:3}},Object(o.c)(h,{size:18})),Object(o.c)("a",{href:"/newsletter","aria-label":"Newsletter",sx:{mt:"5px",color:"inherit",ml:3,pl:"1px"}},Object(o.c)(v,{size:18})))),Object(o.c)(l.Box,{as:"main",sx:{gridArea:"main"}},Object(o.c)(l.Container,{sx:{px:3,py:[3,4,4]}},t,p?Object(o.c)(C.a,null):null)),Object(o.c)(l.Box,{as:"aside",sx:{gridArea:"nav",px:3,pt:[3,4],ul:{listStyle:"none",p:0,m:0,mt:[0,"10px"]},li:{fontSize:2,fontWeight:"bold",mb:2,"& ul":{ml:2,mt:2,mb:3},"& li":{fontWeight:"normal",mb:0}},a:{color:"inherit",textDecoration:"none","&:hover, &:focus":{color:"primary"}}}},s?null:Object(o.c)(k.a,null)),Object(o.c)(l.Box,{as:"aside",sx:{gridArea:"toc"}}),Object(o.c)(l.Box,{as:"footer",sx:{gridArea:"footer",py:[3,5,6],mt:[3,4,5],backgroundColor:"text",color:"background"}},Object(o.c)(l.Container,{sx:{px:3,display:"flex",alignItems:"center",verticalAlign:"middle"}},Object(o.c)(c.Link,{to:"/"},Object(o.c)("img",{src:"https://user-images.githubusercontent.com/1424573/61592179-e0fda080-ab8c-11e9-9109-166cc7c86b43.png",alt:"blocks logo",width:"32",sx:{verticalAlign:"middle",mr:4}})),Object(o.c)("a",{href:"https://github.com/blocks/blocks","aria-label":"Github",target:"_blank",rel:"noopener noreferrer",sx:{mt:"5px",ml:"auto",color:"inherit"}},Object(o.c)(d,{size:18})),Object(o.c)("a",{href:"https://twitter.com/blocks_ui","aria-label":"Github",target:"_blank",rel:"noopener noreferrer",sx:{mt:"5px",color:"inherit",ml:3}},Object(o.c)(h,{size:18})),Object(o.c)("a",{href:"/newsletter","aria-label":"Newsletter",sx:{mt:"5px",color:"inherit",ml:3,pl:"1px"}},Object(o.c)(v,{size:18}))))))}},cx7i:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return c})),n.d(t,"default",(function(){return p}));n("q1tI");var o=n("7ljp"),r=n("Bl7J");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c={title:"Write a custom block"},i={_frontmatter:c},s=r.a;function p(e){var t=e.components,n=l(e,["components"]);return Object(o.b)(s,a({},i,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h1",null,"Write a custom block"),Object(o.b)("p",null,"A Block is a component that the editor can control. It's typically a\ncomponent that has pre-made styles and accepts a few props for changing\nthe content."),Object(o.b)("p",null,"Components can expose a styling API using ",Object(o.b)("inlineCode",{parentName:"p"},"Controls.Style")," which maps to the\n",Object(o.b)("inlineCode",{parentName:"p"},"sx")," prop in Theme UI. There are component types you can specify like\n",Object(o.b)("inlineCode",{parentName:"p"},"Typography")," and ",Object(o.b)("inlineCode",{parentName:"p"},"Layout")," to constrain which props are possible."),Object(o.b)("h2",null,"Adding controls to a component"),Object(o.b)("p",null,"There are two types of controls that can be exposed. Prop controls map to\ncommon JSX primitive prop types like strings, numbers, and enums. There are\nalso style properties which can be added to expose styling knobs and dials."),Object(o.b)("h3",null,"Prop controls"),Object(o.b)("p",null,"After instantiating a component, you can use ",Object(o.b)("inlineCode",{parentName:"p"},"Controls.addPropertyControls"),"\nwhich will expose controls in the editor sidepanel."),Object(o.b)("p",null,"The following adds a string input for the quote."),Object(o.b)("pre",null,Object(o.b)("code",a({parentName:"pre"},{className:"language-js"}),"Controls.addPropertyControls(BlockQuote.Quote, {\n  children: {\n    type: Controls.String,\n    required: true,\n    placeholder: 'What did someone say?'\n  },\n  sx: {\n    type: Controls.Style.Typography\n  }\n})\n")),Object(o.b)("p",null,Object(o.b)("a",a({parentName:"p"},{href:"/docs/controls"}),"See Controls page ","â†’")),Object(o.b)("h3",null,"Style controls"),Object(o.b)("p",null,"If you want to expose style controls, you can do so with ",Object(o.b)("inlineCode",{parentName:"p"},"Controls.addStyleControls"),"."),Object(o.b)("pre",null,Object(o.b)("code",a({parentName:"pre"},{className:"language-js"}),"Controls.addStyleControls(BlockQuote, Controls.Style.Layout)\n")),Object(o.b)("p",null,"Styles controls have particular presets that can be used, too."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"Controls.Style.Layout")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"Controls.Style.Typography")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"Controls.Style.Variant"))),Object(o.b)("h3",null,Object(o.b)("inlineCode",{parentName:"h3"},"sx")," or ",Object(o.b)("inlineCode",{parentName:"h3"},"css")," prop controls"),Object(o.b)("p",null,"You can combine ",Object(o.b)("inlineCode",{parentName:"p"},"Controls.addPropertyControls")," with ",Object(o.b)("inlineCode",{parentName:"p"},"Controls.Style")," as a shortcut to\navoid ",Object(o.b)("inlineCode",{parentName:"p"},"Controls.addStyleControls"),". For Theme UI, you'd set it to ",Object(o.b)("inlineCode",{parentName:"p"},"sx"),". Using Emotion\nor Styled Components you can specify ",Object(o.b)("inlineCode",{parentName:"p"},"css"),"."),Object(o.b)("pre",null,Object(o.b)("code",a({parentName:"pre"},{className:"language-js"}),"Controls.addPropertyControls(BlockQuote.Quote, {\n  children: {\n    type: Controls.String,\n    required: true,\n    placeholder: 'What did someone say?'\n  },\n  sx: {\n    type: Controls.Style.Typography\n  }\n})\n")),Object(o.b)("h2",null,"Using a block"),Object(o.b)("p",null,"The Blocks editor accepts a ",Object(o.b)("inlineCode",{parentName:"p"},"blocks")," prop where you specify\nthe component, its import location, and its usage. When the\nblock is dragged onto the canvas, the usage code is what ends\nup in the document."),Object(o.b)("pre",null,Object(o.b)("code",a({parentName:"pre"},{className:"language-js"}),"import React from 'react'\nimport { Editor } from 'blocks-ui'\nimport { HeaderBasic } from '@blocks/components'\n\nexport default () => <Editor blocks={{ HeaderBasic }} jsx={myJSX} />\n")),Object(o.b)("h2",null,"Example block component"),Object(o.b)("pre",null,Object(o.b)("code",a({parentName:"pre"},{className:"language-js"}),"/** @jsx jsx */\nimport { jsx } from 'theme-ui'\nimport { Link } from '@theme-ui/components'\nimport { ControlType, applyPropertyControls } from 'property-controls'\n\nconst HeaderBasic = ({ justifyContent = 'space-between', ...props }) => {\n  return (\n    <header\n      sx={{\n        variant: 'styles.header',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent\n      }}\n      {...props}\n    />\n  )\n}\n\nHeaderBasic.Logo = props => {\n  return (\n    <Link\n      sx={{\n        variant: 'styles.navLink',\n        p: 2\n      }}\n      {...props}\n    />\n  )\n}\nHeaderBasic.Nav = props => {\n  return <nav {...props} />\n}\nHeaderBasic.Link = props => {\n  return (\n    <Link\n      sx={{\n        variant: 'styles.navLink',\n        p: 2\n      }}\n      {...props}\n    />\n  )\n}\n\napplyPropertyControls(HeaderBasic, {\n  justifyContent: {\n    type: ControlType.Enum,\n    defaultValue: 'right',\n    options: ['space-between', 'start', 'space-evenly']\n  },\n  sx: {\n    type: ControlType.Style\n  }\n})\n\nconst linkControls = {\n  children: {\n    title: 'Text',\n    type: ControlType.String,\n    required: true\n  },\n  to: {\n    title: 'URL',\n    type: ControlType.String,\n    defaultValue: '#!',\n    required: true\n  },\n  sx: {\n    type: ControlType.Style\n  }\n}\n\napplyPropertyControls(HeaderBasic.Logo, linkControls)\napplyPropertyControls(HeaderBasic.Link, linkControls)\n\nHeaderBasic.usage = `\n  <HeaderBasic>\n    <HeaderBasic.Logo to=\"/\">Hello</HeaderBasic.Logo>\n    <HeaderBasic.Nav>\n      <HeaderBasic.Link to=\"/about\">About</HeaderBasic.Link>\n      <HeaderBasic.Link to=\"/blog\">Blog</HeaderBasic.Link>\n      <HeaderBasic.Link to=\"/contact\">Contact</HeaderBasic.Link>\n    </HeaderBasic.Nav>\n  </HeaderBasic>\n`\n\nexport default HeaderBasic\n")))}p.isMDXComponent=!0},i4fA:function(e,t,n){"use strict";var o=n("2A+t"),r=n("Wbzz"),a={textDecoration:"underline"};t.a=function(){return Object(o.c)("ul",null,Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/getting-started",activeStyle:a},"Getting started")),Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/blocks",activeStyle:a},"Blocks library")),Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/docs/controls",activeStyle:a},"Controls")),Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/docs/guides",activeStyle:a},"Guides"),Object(o.c)("ul",null,Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/docs/guides/write-a-custom-block",activeStyle:a},"Custom blocks")))),Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/about",activeStyle:a},"About")),Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/vision",activeStyle:a},"Vision")),Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/docs/advanced",activeStyle:a},"Advanced"),Object(o.c)("ul",null,Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/docs/advanced/how-it-works",activeStyle:a},"How it works")),Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/docs/advanced/transforms",activeStyle:a},"Transforms")),Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/docs/advanced/queries",activeStyle:a},"Queries")),Object(o.c)("li",null,Object(o.c)(r.Link,{to:"/docs/advanced/blocks-docs-generation",activeStyle:a},"Blocks docs generation")))))}}}]);
//# sourceMappingURL=component---src-pages-docs-guides-write-a-custom-block-mdx-b05faa0724ad918a3ed2.js.map